datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model WhatsAppAccount {
  id                   String    @id @unique @default(cuid())
  phoneNumber          String    @unique
  displayName          String?
  qualityRatingTier    String?
  messagingLimitTier   String?
  healthScore          Int       @default(100)
  status               String    @default("HEALTHY")
  isActive             Boolean   @default(true)
  createdAt            DateTime  @default(now())
  updatedAt            DateTime  @updatedAt
  lastHealthUpdateAt   DateTime  @default(now())

  @@index([status, isActive])
  @@index([healthScore])
}
